<ui:ObservableUserControl
	x:Class="PEunion.FileBrowser"
	x:Name="fileBrowser"
	xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
	xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
	xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
	xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
	xmlns:local="clr-namespace:PEunion"
	xmlns:api="https://schemas.bytecode77.com/2019/xaml/api"
	xmlns:ui="https://schemas.bytecode77.com/2019/xaml/presentation"
	mc:Ignorable="d"
	Background="Transparent" AllowDrop="True" PreviewDragOver="UserControl_PreviewDragOver" Drop="UserControl_Drop">
	<Border Padding="10" BorderThickness="2" BorderBrush="#d0d0d0" Background="White">
		<DockPanel>
			<Image Source="{Binding IconImageSource, ElementName=fileBrowser}" Margin="0,0,10,0" VerticalAlignment="Top" />
			<StackPanel>
				<TextBlock Margin="0,0,0,10" Visibility="{Binding Text, ElementName=fileBrowser, Converter={ui:StringEmptyConverter NotNullOrEmpty, VisibilityInverse}}">
					<Run Text="{Binding DragDropText, ElementName=fileBrowser, Mode=OneWay}" /><Run Text=", or" />
				</TextBlock>
				<TextBlock Text="{Binding Text, ElementName=fileBrowser}" Margin="0,0,0,10" Visibility="{Binding Text, ElementName=fileBrowser, Converter={ui:StringEmptyConverter NotNullOrEmpty, Visibility}}" />
				<StackPanel Orientation="Horizontal" HorizontalAlignment="Right">
					<Button Content="Browse..." Style="{StaticResource UIButton}" Click="btnBrowse_Click" />
					<Button Content="Reset" Style="{StaticResource UIButton}" Visibility="{Binding AllowReset, ElementName=fileBrowser, Converter={ui:BooleanConverter Visibility}}" IsEnabled="{Binding IsResetButtonEnabled, ElementName=fileBrowser}" Margin="10,0,0,0" Click="btnReset_Click" />
				</StackPanel>
			</StackPanel>
		</DockPanel>
	</Border>
</ui:ObservableUserControl>